@using FFNodes.Client.Core.Networking;
@using FFNodes.Core.Model;
@using FFNodes.Server.Data;
<section>
    <div class="col fill">
        <div class="row title-bar">
            <div class="page-title fill">Users</div>
            <div class="col title-input fill">
                <label for="connect-code">Connect Code</label>
                <input id="connect-code" type="text" class="copy" readonly value="@AppConfig.Instance.ConnectionUrl" />
            </div>
        </div>

        <div class="list">
        </div>
    </div>
</section>

@code {
    private User[] Items { get; set; } = Array.Empty<User>();

    protected override async Task OnInitializedAsync()
    {
        await base.OnInitializedAsync();
        await Update();
    }

    private async Task Update()
    {
        using FFAdvancedNetworkClient client = new(AppConfig.Instance.ConnectionUrl, AppConfig.Instance.UserId);
        Items = await client.GetUsers();
        StateHasChanged();
    }



}
